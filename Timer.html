<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Timer</title>
    <link rel="stylesheet" href="./css/common.css?v=1" />
    <link rel="stylesheet" href="./css/timer.css?v=1" />

    <!-- External Style Sheets -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>

<body>
    <!-- layout -->
    <div class="layout" id="app">

        <div class="pc">

            <!-- aside -->
            <div class="aside" :class="{'hide': hide}">
                <img src="./img/logo.png" class="logo" />

                <div class="list">
                    <a href="./index.html" class="item">
                        <img src="./img/icon-1.png" />
                        <span>Dashboard</span>
                    </a>
                    <a href="./Books.html" class="item">
                        <img src="./img/icon-2.png" />
                        <span>Books</span>
                    </a>
                    <a href="./Calendar.html" class="item">
                        <img src="./img/icon-3.png" />
                        <span>Calendar</span>
                    </a>
                    <a href="./Tasks.html" class="item">
                        <img src="./img/icon-4.png" />
                        <span>Tasks</span>
                    </a>
                    <a href="./Timer.html" class="item active">
                        <img :src="hide ? './img/icon-5.png' : './img/icon-5-1.png'" />
                        <span>Timer</span>
                    </a>
                    <a class="item">
                        <img src="./img/icon-6.png" />
                        <span>Notification</span>
                    </a>
                    <a href="./Message.html" class="item">
                        <img src="./img/icon-7.png" />
                        <span>Message</span>
                    </a>

                    <div class="hr hr1"></div>
                    <div class="item">
                        <img src="./img/icon-8.png" />
                        <span>Setting</span>
                    </div>
                    <div class="hr"></div>
                </div>

                <img src="./img/icon-12.png" class="aside-bg" />

                <img src="./img/icon-9.png" class="aside-bg1" />

                <img src="./img/icon-11.png" class="fold" @click="hide = !hide" />
            </div>

            <!-- container -->
            <div class="container">
                <!-- header -->
                <div class="header">
                    <!-- search -->
                    <div class="search">
                        <img src="./img/icon-5.png" />
                        <input type="text" placeholder="Course title or keywords " />
                        <div class="text">
                            <span>Courses</span>
                            <span>▼</span>
                        </div>
                    </div>

                    <!-- hello -->
                    <div class="hello">
                        <span> Hello, <b>Huanyi</b> </span>
                        <img src="./img/icon-13.png" />
                        <img src="./img/icon-14.png" />
                        <img src="./img/icon-15.png" />
                        <img src="./img/icon-16.png" />
                        <span> Huanyi H. </span>
                    </div>
                </div>

                <!-- main -->
                <div class="main">
                    <div class="l">
                        <!-- Task to do: -->
                        <div class="taskToDo">
                            <span>Task to do:</span>
                            <span>2</span>
                        </div>

                        <!-- Task completed -->
                        <div class="taskCompleted">
                            <div>
                                <p>Tasks <span>completed</span></p>
                                <p>This week:</p>
                            </div>
                            <span>0</span>
                        </div>

                        <!-- Today -->
                        <div class="today">
                            <div class="top">
                                <span>Today</span>
                                <img src="./img/icon-37.png" alt="" srcset="">
                            </div>

                            <div class="m">
                                <el-progress type="circle" color="#3B446A" :format="format" :percentage="percentage" />
                            </div>

                            <div class="b">
                                <div class="stop" @click="stop">Stop</div>
                                <div class="reset" @click="change">Reset</div>
                                <div class="stop" @click="start">Start</div>
                            </div>
                        </div>

                    </div>

                    <div class="r">
                        <div class="title">Schedule & Tasks</div>
                        <!-- Activities -->
                        <div class="activities">
                            <div class="top">
                                <span>Activities</span>
                                <span>+</span>
                            </div>

                            <div class="item">
                                <span>Work</span>
                                <el-switch v-model="work" active-color="#3C456A" inactive-color="#DDDDDD">
                                </el-switch>
                            </div>
                            <div class="item">
                                <span>Assessment</span>
                                <el-switch v-model="assessment" active-color="#3C456A" inactive-color="#DDDDDD">
                                </el-switch>
                            </div>
                        </div>

                        <!-- Work -->
                        <div class="activities" v-if="work">
                            <div class="top">
                                <span>Work</span>
                                <img src="./img/icon-41.png">
                            </div>
                        </div>

                        <!-- Assessment -->
                        <div class="activities" v-if="assessment">
                            <div class="top">
                                <span>Assessment</span>
                                <img :src="isShow ? './img/icon-37.png' : './img/icon-41.png'" @click="isShow = !isShow"
                                    alt="">
                            </div>
                        </div>

                        <template v-if="isShow">
                            <!-- Advanced Web Design -->
                            <div class="activities">
                                <div class="top">
                                    <span>Advanced Web Design</span>
                                    <span @click="dialogFormVisible = true">+</span>
                                </div>

                                <div class="item">
                                    <span>Find Reference</span>
                                    <span>02hr30min</span>
                                    <el-switch v-model="reference" @change="change" active-color="#3C456A"
                                        inactive-color="#DDDDDD">
                                    </el-switch>
                                </div>
                                <div class="item">
                                    <span>Sketch</span>
                                    <span>01hr 00min</span>
                                    <el-switch v-model="sketch" @change="change" active-color="#3C456A"
                                        inactive-color="#DDDDDD">
                                    </el-switch>
                                </div>
                                <div class="item">
                                    <span>Wireframe</span>
                                    <span>01hr 00min - 03hr 30min</span>
                                    <el-switch v-model="wireframe" @change="change" active-color="#3C456A"
                                        inactive-color="#DDDDDD">
                                    </el-switch>
                                </div>
                            </div>

                            <!-- Design Programming -->
                            <div class="activities">
                                <div class="top">
                                    <span>Design Programming</span>
                                    <img src="./img/icon-41.png" alt="">
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>

        <div class="phone">
            <div class="header">
                <img src="./img/icon-32.png" alt="" srcset="" @click="hide = true" />
                <img src="./img/logo.png" alt="" srcset="" />
                <img src="./img/icon-45.png" alt="" srcset="" />
            </div>

            <div class="headers" v-if="hide">
                <div class="top">
                    <img src="./img/icon-44.png" alt="" srcset="" @click="hide = false" />
                    <img src="./img/icon-46.png" alt="" srcset="" />
                    <img src="./img/icon-47.png" alt="" srcset="" />
                </div>
                <div class="con">
                    <div>
                        <a href="./index.html" class="item"><img src="./img/icon-48.png" alt="" srcset="" /></a>
                        <a href="./Books.html" class="item"><img src="./img/icon-49.png" alt="" srcset="" /></a>
                        <a href="./Calendar.html" class="item"><img src="./img/icon-50.png" alt="" srcset="" /></a>
                    </div>
                    <div>
                        <a href="./Tasks.html" class="item"><img src="./img/icon-51.png" alt="" srcset="" /></a>
                        <a href="./Timer.html" class="item"><img src="./img/icon-52.png" alt="" srcset="" /></a>
                        <img src="./img/icon-53.png" alt="" srcset="" />
                    </div>
                    <div>
                        <a href="./Message.html" class="item"><img src="./img/icon-54.png" alt="" srcset="" /></a>

                        <p class="search">
                            <input type="text" />
                            <img src="./img/icon-55.png" alt="" srcset="" />
                        </p>
                    </div>
                    <div class="qw">
                        <img src="./img/icon-56.png" alt="" srcset="" />
                        <img src="./img/icon-57.png" alt="" srcset="" />
                    </div>
                </div>
            </div>



            <!-- Today -->
            <div class="today">
                <div class="top">
                    <span>Today</span>
                    <img src="./img/icon-37.png" alt="" srcset="">
                </div>

                <div class="m">
                    <el-progress type="circle" color="#3B446A" :format="format" :percentage="percentage" />
                </div>

                <div class="b">
                    <div class="stop" @click="stop">Stop</div>
                    <div class="reset" @click="change">Reset</div>
                    <div class="stop" @click="start">Start</div>
                </div>
            </div>


            <!-- Task to do: -->
            <div class="taskToDo">
                <span>Task to do:</span>
                <span>2</span>
            </div>

            <!-- Task completed -->
            <div class="taskCompleted">
                <div>
                    <p>Tasks <span>completed</span></p>
                    <p>This week:</p>
                </div>
                <span>0</span>
            </div>


            <div class="title">Schedule & Tasks</div>
            <!-- Activities -->
            <div class="activities">
                <div class="top">
                    <span>Activities</span>
                    <span>+</span>
                </div>

                <div class="item">
                    <span>Work</span>
                    <el-switch v-model="work" active-color="#3C456A" inactive-color="#DDDDDD">
                    </el-switch>
                </div>
                <div class="item">
                    <span>Assessment</span>
                    <el-switch v-model="assessment" active-color="#3C456A" inactive-color="#DDDDDD">
                    </el-switch>
                </div>
            </div>

            <!-- Work -->
            <div class="activities" v-if="work">
                <div class="top">
                    <span>Work</span>
                    <img src="./img/icon-41.png">
                </div>
            </div>

            <!-- Assessment -->
            <div class="activities" v-if="assessment">
                <div class="top">
                    <span>Assessment</span>
                    <img :src="isShow ? './img/icon-37.png' : './img/icon-41.png'" @click="isShow = !isShow" alt="">
                </div>
            </div>

            <template v-if="isShow">
                <!-- Advanced Web Design -->
                <div class="activities">
                    <div class="top">
                        <span>Advanced Web Design</span>
                        <span @click="dialogFormVisible = true">+</span>
                    </div>

                    <div class="item">
                        <span>Find Reference</span>
                        <span>02hr30min</span>
                        <el-switch v-model="reference" @change="change" active-color="#3C456A" inactive-color="#DDDDDD">
                        </el-switch>
                    </div>
                    <div class="item">
                        <span>Sketch</span>
                        <span>01hr 00min</span>
                        <el-switch v-model="sketch" @change="change" active-color="#3C456A" inactive-color="#DDDDDD">
                        </el-switch>
                    </div>
                    <div class="item">
                        <span>Wireframe</span>
                        <span>01hr 00min - 03hr 30min</span>
                        <el-switch v-model="wireframe" @change="change" active-color="#3C456A" inactive-color="#DDDDDD">
                        </el-switch>
                    </div>
                </div>

                <!-- Design Programming -->
                <div class="activities">
                    <div class="top">
                        <span>Design Programming</span>
                        <img src="./img/icon-41.png" alt="">
                    </div>
                </div>
            </template>
        </div>


        <el-dialog title="Create a new task" :visible.sync="dialogFormVisible">
            <el-form :model="form">
                <el-form-item label="Title:" :label-width="formLabelWidth">
                    <el-input v-model="form.task" placeholder="title"></el-input>
                </el-form-item>
                <el-form-item label="Time:" :label-width="formLabelWidth">
                    <el-select v-model="form.time" placeholder="time">
                        <el-option v-for="item in options" :key="item.value" :label="item.label" :value="item.value">
                        </el-option>
                    </el-select>
                </el-form-item>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button @click="dialogFormVisible = false">Cancel</el-button>
                <el-button type="primary" @click="dialogFormVisible = false">Finish</el-button>
            </div>
        </el-dialog>
    </div>

    <!-- Must import vue first, then use element-ui -->
    <script src="./js/vue.js"></script>
    <!-- Import element repository-->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <script src="//unpkg.com/element-ui/lib/umd/locale/en.js"></script>

    <script>
        ELEMENT.locale(ELEMENT.lang.en)
        var app = new Vue({
            el: "#app",
            data() {
                return {
                    hide: false,
                    dialogFormVisible: false,
                    form: {
                        task: "",
                        time: "",
                    },
                    formLabelWidth: "120px",
                    work: false,
                    assessment: true,
                    wireframe: true,
                    sketch: true,
                    reference: false,
                    percentage: 100,
                    isShow: true,
                    times: 0,
                    format: () => {
                        return this.as
                    },
                    options: [
                        {
                            label: '0 hr 30 min',
                            value: 1
                        },
                        {
                            label: '1 hr 00 min',
                            value: 2
                        },
                        {
                            label: '1 hr 30 min',
                            value: 3
                        },
                        {
                            label: '2 hr 00 min',
                            value: 4
                        },
                        {
                            label: '2 hr 30 min',
                            value: 5
                        },
                        {
                            label: '3 hr 00 min',
                            value: 6
                        },
                        {
                            label: '3 hr 30 min',
                            value: 7
                        },
                    ],
                    aTime: 25 * 60,
                    bTime: 30 * 60,
                    count: 4,
                    lang: 0
                }
            },
            watch: {
                assessment(newVal, val) {
                    this.isShow = newVal
                }
            },
            computed: {
                as() {
                    this.time = 0
                    if (this.reference) {
                        this.time += 150 * 60
                    }
                    if (this.sketch) {
                        this.time += 60 * 60
                    }
                    if (this.wireframe) {
                        this.time += 210 * 60
                    }
                    let timeArr = ((this.time / 60 / 60) + '').split('.');
                    return `${timeArr[0]}hr ${this.time / 60 % 60}min`
                }
            },
            methods: {
                start() {
                    clearInterval(this.dsq)
                    this.$message.success("Counting Start ！");
                    this.dsq = setInterval(() => {
                        this.times++
                        this.time--
                        this.lang++
                        if (!this.time) {
                            this.stop()
                        }

                        if (this.times > 59) {
                            this.format = _ => {
                                let timeArr = ((this.time / 60 / 60) + '').split('.');
                                return `${timeArr[0]}hr ${this.time / 60 % 60}min`
                            }
                            this.times = 0;
                        }

                        if (this.lang > this.aTime) {
                            this.lang = 0
                            this.count--
                            clearInterval(this.dsq)
                            if (this.count) {
                                this.$message.success('5 minutes break !');
                                setTimeout(this.start, 5 * 60 * 1000)
                            } else {
                                this.$message.success('30 minutes break !');
                                this.count = 4
                                setTimeout(this.start, 30 * 60 * 1000)
                            }
                        }

                    }, 1000);
                },
                stop() {
                    clearInterval(this.dsq)
                    this.$message.error('Counting Over ！');
                },
                change() {
                    clearInterval(this.dsq)
                    this.times = 0
                    this.format = _ => {
                        this.time = 0
                        if (this.reference) {
                            this.time += 150 * 60
                        }
                        if (this.sketch) {
                            this.time += 60 * 60
                        }
                        if (this.wireframe) {
                            this.time += 210 * 60
                        }
                        let timeArr = ((this.time / 60 / 60) + '').split('.');
                        return `${timeArr[0]}hr ${this.time / 60 % 60}min`
                    }
                }

            },
        })
    </script>
</body>

</html>
